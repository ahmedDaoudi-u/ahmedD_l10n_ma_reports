<odoo>
    <template id="payslip_template_inherited" inherit_id="hr_payroll.report_payslip">
        <xpath expr="//div[@class='page']" position="attributes">
            <attribute name="style">margin-top: 0px;margin-bottom: 100px;</attribute>
        </xpath>

        <xpath expr="//h2[@id='payslip_name']" position="attributes">
            <attribute name="style">display: none;</attribute>
        </xpath>

        <xpath expr="//strong[@id='invalid_warning']" position="attributes">
            <attribute name="style">display: none;</attribute>
        </xpath>

        <xpath expr="//table[@id='employee_info_table_1']//tr[@id='employee_info_line_1']" position="replace">
            <div id="employee_info_table_1">
                <tr style="border-bottom: 1px solid black; text-align: center;">
                    <th style="width:10% ; text-align: center;background-color: #D7E4C0;" class="highlight-cell">
                        BULLETIN DE PAIE
                    </th>
                    <th colspan="3" style="text-align: center;">Période du:
                        <span t-field="o.date_from" style="color: #888888;"/>
                    </th>
                    <th colspan="2" style="text-align: center;">Paiement le:
                        <span t-field="o.date_to" style="color: #888888;"/>
                    </th>
                    <th colspan="4" style="text-align: center;">Par:
                        <span t-field="o.type_payment" style="color: #888888;"/>
                    </th>
                </tr>
            </div>
        </xpath>

        <xpath expr="//table[@id='employee_info_table_1']//tr[@id='employee_info_line_2']" position="replace">
            <tr style="border-bottom: 1px solid black; text-align: center;" id='employee_info_line_2'>
                <td rowspan="3" style="width:30%">
                    <span t-field="o.employee_id.company_id" style="color: #888888;text-align: center;"/>
                </td>
                <td style="text-align: center;">Matricule:
                    <span t-foreach="o.worked_days_line_ids" t-as="line" style="color: #888888;"/>
                    <t t-esc="line.number_of_hours"/>
                </td>
                <td style="text-align: center;" colspan="3">Ancienneté:</td>
                <td style="text-align: center;">N°CNSS:
                    <span t-field="o.employee_id.l10n_ma_cin_number" style="color: #888888;text-align: center;"/>
                </td>
                <td style="text-align: center;">N°CIN:
                    <span t-field="o.employee_id.l10n_ma_cnss_number" style="color: #888888;text-align: center;"/>
                </td>
                <td style="text-align: center;" colspan="3">N°CIMR:
                    <span t-field="o.employee_id.l10n_ma_cimr_number" style="color: #888888;text-align: center;"/>
                </td>
            </tr>
        </xpath>

        <xpath expr="//table[@id='employee_info_table_1']//tr[@id='employee_info_line_3']" position="replace">
            <tr style="border-bottom: 1px solid black; text-align: center;" id='employee_info_line_3'>
                <td style="text-align: center;">Catégorie:</td>
                <td style="text-align: center;" colspan="4">Emploi occupé:
                    <span t-field="o.employee_id.job_title" style="color: #888888;text-align: center;"/>
                </td>
                <td style="text-align: center;">Département:
                    <span t-field="o.employee_id.department_id" style="color: #888888;text-align: center;"/>
                </td>
                <td style="text-align: center;" colspan="3">Date d'éntrée:
                    <span t-field="o.contract_id.date_start" style="color: #888888;text-align: center;"/>
                </td>
            </tr>
        </xpath>

        <xpath expr="//table[@id='employee_info_table_1']//tr[@id='employee_info_line_4']" position="replace">
            <tr style="border-bottom: 1px solid black; text-align: center;" id='employee_info_line_4'>
                <td style="text-align: center;">Qualification:</td>
                <td style="text-align: center;">Horaire:
                    <span t-field="o.worked_days_line_ids.number_of_hours" style="color: #888888;text-align: center;"/>
                </td>
                <td style="text-align: center;" colspan="2">Salaire de base: (<span class="text-capitalize"
                                                                                    t-out="o.contract_id.wage_type"/>)
                    <span t-out="o.contract_id._get_contract_wage()" style="color: #888888;"/>
                </td>
                <td style="text-align: center;">Taux horraire:
                    <span t-field="o.employee_id.hourly_cost" style="color: #888888;"/>
                </td>
                <td style="text-align: center;">Situation familiale:
                    <span t-field="o.employee_id.marital" style="color: #888888;"/>
                </td>
                <td style="text-align: center;" colspan="3">Nbre déductions:</td>
            </tr>
        </xpath>

        <xpath expr="//table[@id='employee_info_table_1']//tr[@id='employee_info_line_4']" position="after">
            <tr style="border-bottom: 1px solid black; text-align: center;" id='employee_info_5'>
                <td></td>
                <td style="text-align: center; background-color: #D7E4C0;" colspan="9" class="highlight-cell">Address
                    Employe :
                    <span t-field="o.employee_id.address_id" style="color: #888888;text-align: center;"/>
                </td>
            </tr>
        </xpath>

        <xpath expr="//table[@id='employee_info_table_1']//tr[@id='employee_info_5']" position="after">
            <tr style="border-bottom: 1px solid black; text-align: center;" id='employee_info_6'>
                <td style="text-align: center;" rowspan="2" colspan="2">Commentaire:
                    <span t-field="o.commentaire" style="color: #888888;"/>
                </td>
                <td style="text-align: center;" colspan="1">Congés</td>
                <td style="text-align: center;" colspan="2">Répliquat n-1</td>
                <td></td>
                <td style="text-align: center;">Pris</td>
                <td style="text-align: center;" colspan="3"></td>
            </tr>
        </xpath>

        <xpath expr="//table[@id='employee_info_table_1']//tr[@id='employee_info_6']" position="after">
            <tr style="border-bottom: 1px solid black; text-align: center;" id='employee_info_7'>
                <td style="text-align: center;" colspan="1"></td>
                <td style="text-align: center;" colspan="2">Droit</td>
                <td></td>
                <td style="text-align: center;">Solde</td>
                <td style="text-align: center;" colspan="3"></td>
            </tr>
        </xpath>

        <xpath expr="//table[@id='employee_info_table_1']//tr[@id='employee_info_7']" position="after">
            <tr style="border-bottom: 1px solid black; text-align: center;background-color: #D5F0C1;"
                id='employee_info_8'>
                <td colspan="3" class="left">
                    <b>Désignation</b>
                </td>
                <td>
                    <b>Nombre</b>
                </td>
                <td>
                    <b>Base</b>
                </td>
                <td>
                    <b>Taux</b>
                </td>
                <td>
                    <b>Gain</b>
                </td>
                <td colspan="3">
                    <b>Retenue</b>
                </td>
            </tr>
        </xpath>


        <xpath expr="//table[@id='employee_info_table_1']//tr[@id='employee_info_8']" position="after">
            <span t-foreach="o.line_ids.filtered(lambda line: line.appears_on_payslip)" t-as="line">
                <t t-set="line_styling" t-value="line.get_payslip_styling_dict()"/>
                <t t-set="line_style"/>
                <t t-set="line_class"/>
                <t t-if="line.code in line_styling">
                    <t t-set="line_style" t-value="line_styling[line.code]['line_style']"/>
                    <t t-set="line_class" t-value="line_styling[line.code]['line_class']"/>
                </t>
                <tr t-att-class="line_class" t-att-style="line_style" id="employee_info_9">
                    <td id="payslip_line_name" colspan="3">
                        <span t-field="line.name"/>
                    </td>
                    <td id="payslip_line_rate"></td>
                    <td id="payslip_line_quantity">
                        <span t-if="line.quantity &gt; 1" t-esc="line.quantity"/>
                    </td>
                    <td id="payslip_line_total" class="text-end">
                        <span t-esc="line.total"
                              t-options="{&quot;widget&quot;: &quot;monetary&quot;, &quot;display_currency&quot;: o.company_id.currency_id}"
                              t-att-style="'color:#875A7B;' if line.total &lt; 0 else ''"/>
                    </td>
                    <td></td>
                    <td colspan="3"></td>
                </tr>
            </span>
        </xpath>


        <xpath expr="//table[@id='employee_info_table_1']//tr[@id='employee_info_line_5']" position="attributes">
            <attribute name="style">display: none;</attribute>
        </xpath>

        <xpath expr="//table[@id='employee_info_table_1']//tr[@id='employee_info_line_6']" position="attributes">
            <attribute name="style">display: none;</attribute>
        </xpath>

        <xpath expr="//table[@id='employee_info_table_1']//tr[@id='employee_info_line_7']" position="attributes">
            <attribute name="style">display: none;</attribute>
        </xpath>

        <xpath expr="//table[@class='table table-sm']//tr" position="replace">
            <tr style="border-bottom: 1px solid black; text-align: center; background-color: #74E291;
                            color: green;" id='employee_1'>
                <td></td>
                <td>Brut Imposable</td>
                <td>Net Imposable</td>
                <td>Ch.Salaires</td>
                <td>F.Professionnels</td>
                <td>Déd.Logement</td>
                <td>Déd.Charges Familales</td>
                <td>Jours Travaillés</td>
                <td colspan="3">Net A Payer</td>
            </tr>
        </xpath>

        <xpath expr="//table[@class='table table-sm']//tr[@id='employee_1']" position="after">
            <tr style="border-bottom: 1px solid black; text-align: center;
                            color: green;" id='employee_2'>
                <td>Période</td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td>
                    <span t-foreach="o.worked_days_line_ids" t-as="line" style="color: #888888;"/>
                    <t t-esc="line.number_of_days"/>
                </td>
                <td rowspan="2"></td>
            </tr>
        </xpath>

        <xpath expr="//table[@class='table table-sm']//tr[@id='employee_2']" position="after">
            <tr style="border-bottom: 1px solid black; text-align: center; " id='employee_3'>
                <td>Année</td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
            </tr>
        </xpath>


        <xpath expr="//div[@id='total']" position="attributes">
            <attribute name="style">display: none;</attribute>
        </xpath>

        <xpath expr="//div[@id='to_pay']" position="replace">
            <div id='to_pay'>
                <h1></h1>
            </div>
        </xpath>

        <xpath expr="//t[@t-set='line_style']" position="replace">
            <t t-set="line_style" t-value="'payslip_custom_paper_report'"/>
        </xpath>

    </template>

</odoo>